---
## Front matter
lang: ru-RU
title: Краткий отчёт по лабораторной работе №10
author: Samsonova Maria, Student of RUDN University, Moscow, Russian Federation
institute: RUDN University, Moscow, Russian Federation

Date: 20-05-2022

## Formatting
toc: false
slide_level: 2
theme: metropolis
header-includes: 
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
aspectratio: 43
section-titles: true
---
# Цель выполнения лабораторной работы №10

Изучить основы программирования в оболочке ОС UNIX/Linux. Научиться писать небольшие командные файлы.

# Задание

1. Написать скрипт, который при запуске будет делать резервную копию самого себя (то
есть файла, в котором содержится его исходный код) в другую директорию backup
в вашем домашнем каталоге. При этом файл должен архивироваться одним из архиваторов на выбор zip, bzip2 или tar. Способ использования команд архивации
необходимо узнать, изучив справку.
2. Написать пример командного файла, обрабатывающего любое произвольное число
аргументов командной строки, в том числе превышающее десять. Например, скрипт
может последовательно распечатывать значения всех переданных аргументов.
3. Написать командный файл — аналог команды ls (без использования самой этой команды и команды dir). Требуется, чтобы он выдавал информацию о нужном каталоге
и выводил информацию о возможностях доступа к файлам этого каталога.
4. Написать командный файл, который получает в качестве аргумента командной строки
формат файла (.txt, .doc, .jpg, .pdf и т.д.) и вычисляет количество таких файлов
в указанной директории. Путь к директории также передаётся в виде аргумента командной строки.

# Ход выполнения лабораторной работы №10


1. Для начала мы изучили команды архивации, используя команды «manzip», «manbzip2», «mantar» (рис. -@fig:001 , -@fig:002 , -@fig:003 , -@fig:004 ).

![Работа с консолью](image/1.png){ #fig:001 width=70% }

- Синтаксис команды zip для архивации файла: zip [опции]  [имя  файла.zip] [файлы или папки, которые будем архивировать]
 
- Синтаксис команды zip для разархивации/распаковки файла: unzip [опции] [файл_архива.zip][файлы]-x[исключить]-d[папка]

![Информация о zip](image/2.png){ #fig:002 width=70% }

- Синтаксис команды bzip2 для архивации файла: bzip2 [опции] [имена файлов]

- Синтаксис команды bzip2 для разархивации/распаковки файла: bunzip2[опции] [архивы.bz2]

![Информация о bzip2](image/3.png){ #fig:003 width=70% }

- Синтаксис команды tar для архивации файла: tar[опции][архив.tar][файлы_для_архивации]

- Синтаксис команды tar для разархивации/распаковки файла: tar[опции][архив.tar]

![Информация о tar](image/4.png){ #fig:004 width=70% }

- Далее создали файл, в котором будем писать первый скрипт, и открыли его в редакторе emacs, используя клавиши «Ctrl-x»и «Ctrl-f» (команды «touch backup.sh» и «emacs &»)  (рис. -@fig:005 ).

![Создание файла](image/5.png){ #fig:005 width=70% }

- После этого написали скрипт, который при запуске будет делать резервную копию самого себя (то есть файла, в котором содержится его исходный код)  в другую  директорию back up в нашем домашнем  каталоге. При этом файл должен архивироваться одним из архиваторов на выбор zip, bzip2  или tar (рис. -@fig:006 ). При  написании  скрипта  использовала архиватор bzip2.

![Скрипт №1](image/6.png){ #fig:006 width=70% }

- Проверили  работу  скрипта (команда «./backup.sh»), предварительно добавив  для  него  право  на  выполнение  (команда «chmod+x*.sh»). Проверили, появился ли каталог backup/, перейдя в него (команда «cd backup/»), просмотрели содержимое архива (команда «bunzip2 -cbackup.sh.bz2») (рис. -@fig:007 , -@fig:008 ). Скрипт работает корректно.

![Проверка работы скрипта](image/7.png){ #fig:007 width=70% }

![Проверка работы скрипта](image/8.png){ #fig:008 width=70% }

2. Теперь создали файл, в котором будем писать второй скрипт, и открыли его в редакторе emacs, используя клавиши «Ctrl-x» и «Ctrl-f» (команды «touch prog2.sh» и «emacs &») (рис. -@fig:009 , -@fig:010 ).

![Создание файла](image/9.png){ #fig:009 width=70% }

![Открываем emacs](image/10.png){ #fig:010 width=70% }

- Написали пример  командного  файла, обрабатывающего любое произвольное число аргументов командной строки, в том числе превышающее десять.  Например,  скрипт  может  последовательно распечатывать значения всех переданных аргументов (рис. -@fig:011 ).

![Скрипт №2](image/11.png){ #fig:011 width=70% }

- Теперь проверили работу написанного скрипта (команды «./prog2.sh0 1 2 3 4» и «./prog2.sh0 1 2 3 45 6 7 8 9 10 11»), предварительно добавив для него право на выполнение (команда «chmod+x*.sh»). Ввели аргументы, количество которых меньше 10 и больше 10 (рис. -@fig:012 ,  -@fig:013 ). Скрипт работает корректно.

![Проверка работы скрипта](image/12.png){ #fig:012 width=70% }

![Проверка работы скрипта](image/13.png){ #fig:013 width=70% }

3. После этого создали файл, в котором будем писать третий скрипт, и открыли его в редакторе emacs, используя клавиши «Ctrl-x» и «Ctrl-f» (команды «touchprogls.sh» и «emacs&») (рис. -@fig:014 ).

![Создание файла](image/14.png){ #fig:014 width=70% }

- Написали  командный  файл − аналог  команды ls (без  использования самой этой команды и команды dir). Он должен выдавать информацию о нужном каталоге и выводить информацию о возможностях доступа к файлам этого каталога (рис. -@fig:015 , -@fig:016 ).

![Скрипт №3](image/15.png){ #fig:015 width=70% }

![Скрипт №3](image/16.png){ #fig:016 width=70% }

- Далее проверили работу скрипта (команда «./progls.sh~»), предварительно  добавив  для  него  право  на  выполнение  (команда «chmod+x*.sh») (рис. -@fig:017 , -@fig:018 , -@fig:019 ). Скрипт работает корректно.

![Проверка работы скрипта](image/17.png){ #fig:017 width=70% }

![Проверка работы скрипта](image/18.png){ #fig:018 width=70% }

![Проверка работы скрипта](image/19.png){ #fig:019 width=70% }

4. Для четвертого скрипта создали файл (команда «touch format.sh») и открыли его в редакторе emacs, используя клавиши «Ctrl-x» и «Ctrl-f» (команда «emacs &») (рис. -@fig:020 ).

![Создание файла](image/20.png){ #fig:020 width=70% }

- После чего написали командный  файл,  который  получает  в  качестве  аргумента командной строки формат файла (.txt, .doc, .jpg, .pdf и т.д.) и вычисляет количество таких файлов в указанной директории. Путь к директории также передаётся в виде аргумента командной строки (рис. -@fig:021 ).

![Скрипт №4](image/21.png){ #fig:021 width=70% }

- Наконец, проверили работу написанного скрипта (команда «./format.sh~ pdf sh txt doc»), предварительно добавив для него право на выполнение (команда «chmod+x*.sh»), а также создав дополнительные файлы с разными расширениями (команда «touch file.pdf file1.doc file2.doc») (Рисунок -@fig:022 ). Скрипт работает корректно. 

![Проверка работы скрипта](image/22.png){ #fig:022 width=70% }

# Вывод выполнения лабораторной работы №10

В процессе выполнения лабораторной работы №10 мы изучили основы программирования в оболочке ОС UNIX/Linux и научились писать небольшие командные файлы.
