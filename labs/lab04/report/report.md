---
## Front matter
title: "Отчёт по лабораторной работе №4"
subtitle: "Операционные системы"
author: "Самсонова Мария Ильинична"
## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
  - spelling=modern
  - babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---
# Цель работы

Приобретение практических навыков взаимодействия пользователя с системой посредством командной строки.

# Задание
1. Определите полное имя вашего домашнего каталога. Далее относительно этого каталога будут выполняться последующие упражнения.
2. Выполните следующие действия:
2.1. Перейдите в каталог /tmp.
2.2. Выведите на экран содержимое каталога /tmp. Для этого используйте команду ls
с различными опциями. Поясните разницу в выводимой на экран информации.
2.3. Определите, есть ли в каталоге /var/spool подкаталог с именем cron?
2.4. Перейдите в Ваш домашний каталог и выведите на экран его содержимое. Определите, кто является владельцем файлов и подкаталогов?
3. Выполните следующие действия:
3.1. В домашнем каталоге создайте новый каталог с именем newdir.
3.2. В каталоге ~/newdir создайте новый каталог с именем morefun.
3.3. В домашнем каталоге создайте одной командой три новых каталога с именами
letters, memos, misk. Затем удалите эти каталоги одной командой.
3.4. Попробуйте удалить ранее созданный каталог ~/newdir командой rm. Проверьте,
был ли каталог удалён.
3.5. Удалите каталог ~/newdir/morefun из домашнего каталога. Проверьте, был ли
каталог удалён.
4. С помощью команды man определите, какую опцию команды ls нужно использовать для просмотра содержимое не только указанного каталога, но и подкаталогов,
входящих в него.
5. С помощью команды man определите набор опций команды ls, позволяющий отсортировать по времени последнего изменения выводимый список содержимого каталога
с развёрнутым описанием файлов.
6. Используйте команду man для просмотра описания следующих команд: cd, pwd, mkdir,
rmdir, rm. Поясните основные опции этих команд.
7. Используя информацию, полученную при помощи команды history, выполните модификацию и исполнение нескольких команд из буфера команд.

# Теоретическое введение
В операционной системе типа Linux взаимодействие пользователя с системой обычно
осуществляется с помощью командной строки посредством построчного ввода команд. При этом обычно используется командные интерпретаторы языка shell: /bin/sh;
/bin/csh; /bin/ksh.
Формат команды. Командой в операционной системе называется записанный по
специальным правилам текст (возможно с аргументами), представляющий собой указание на выполнение какой-либо функций (или действий) в операционной системе.
Обычно первым словом идёт имя команды, остальной текст — аргументы или опции,
конкретизирующие действие.
Общий формат команд можно представить следующим образом:
<имя_команды><разделитель><аргументы>

# Выполнение лабораторной работы

1. Определяем полное имя нашего домашнего каталога с помощью команды pwd:  (рис. [-@fig:001])

![Определите полное имя домашнего каталога](images/1.png)

{ #fig:001 width=70% }

2. Переходим в каталог /tmp и выводим на экран содержимое каталога /tmp (рис. [-@fig:002]) и (рис. [-@fig:003]). Для этого используем  команду ls с различными опциями: 

![Переход в каталог /tmp](images/2.png)

{#fig:002 width=70% }

![Содержимое каталога /tmp](images/3.png)

{#fig:003 width=70% }

- Для того, чтобы отобразить имена скрытых файлов, необходимо использовать команду ls
с опцией a: (рис. [-@fig:004])

![Содержимое каталога со скрытыми файлами](images/4.png)

{#fig:004 width=70% }

- Можно также получить информацию о типах файлов (каталог, исполняемый файл,
ссылка), для чего используем опцию F:(рис. [-@fig:005])

![Информация о типах файлов](images/5.png)

{#fig:005 width=70% }

-  Получим подробный список, в котором будет отображаться владелец, группа, дата создания, размер и другие параметры с помощью команды ls и опции -l : (рис. [-@fig:006])

![Подробная информация о файлах](images/6.png)

{#fig:006 width=70% }

- Получим все файлы в каталогах, включая скрытые файлы, начинающиеся с точки, а также информацию о типе файла, права доступа к файлу, количество ссылок на файл, имя владельца, имя группы, размер файла в байтах и временной штамп (время последней модификации файла, если не задано другое) файлах, содержащую:(рис. [-@fig:007])

![Подробная информация обо всех файлах с более подробной информацией](images/7.png)

{#fig:007 width=70%}

3. Далее определяем, есть ли в каталоге /var/spool подкаталог с именем cron с помощью перехода в каталог /var/spool и просмотра содержимого каталога командой ls. Обнаруживаем, что папки cron нет:(рис. [-@fig:008])

![Проверка наличия папки cron](images/8.png)

{#fig:008 width=70%}

4. Переходим в наш домашний каталог и выводим на экран его содержимое. Определяем, что владельцем файлов и подкаталогов является misamsonova : (рис. [-@fig:009])

![Содердимое домашнего каталога и информация о нём](images/9.png)

{#fig:009 width=70%}

5. В домашнем каталоге создаём новый каталог с именем newdir, переходим в каталог newdir и в каталоге ~/newdir создаём новый каталог с именем morefun:(рис. [-@fig:010])

![Создание каталогов newdir и  morefun и вывод их содержимого](images/10.png)

{#fig:010 width=70%}

- В домашнем каталоге создаём одной командой три новых каталога с именами
letters, memos, misk. Затем удаляем эти каталоги одной командой:(рис. [-@fig:011])

![Создание каталогов letters, memos, misk](images/11.png)

{#fig:011 width=70%}


- Попробуем удалить ранее созданный каталог ~/newdir командой rm. Проверим, был ли каталог удалён. А также удаляем каталог ~/newdir/morefun из домашнего каталога. Проверим, был ли
каталог удалён : (рис. [-@fig:012]) и (рис. [-@fig:013])

![Попытка удаления каталога newdir, удаление каталога morefun и проверка наличия каталогов](images/12.png)

{#fig:012 width=70%}

 
6. С помощью команды man определим, какую опцию команды ls нужно использовать для просмотра содержимое не только указанного каталога, но и подкаталогов, входящих в него : (рис. [-@fig:013])

![Информация о команде ls](images/13.png)

{#fig:013 width=70% }


7. Используем команду man для просмотра описания следующих команд: cd, pwd, mkdir,
rmdir, rm:  (рис. [-@fig:020]),(рис. [-@fig:014]), (рис. [-@fig:015]), (рис. [-@fig:016]), (рис. [-@fig:017]), (рис. [-@fig:018])

![Получение информации о командах cd,pwd,mkdir,rmdir,rm с помощью команды man](images/20.png)

{#fig:020 width=70% }

![Информация о команде cd](images/14.png)

{#fig:014 width=70% }

- Команда pwd: 
-L, –logical - не разыменовывать символические ссылки. Если путь содержит ссылки, то выводить их без преобразования в исходный путь; 
-P, –physical - преобразовывать символические ссылки в исходные имена. Если путь содержит данные ссылки, то они будут преобразованы в названия исходных директорий (на которые они указаны). 
–help - показать справку по команде pwd; 
–version - показать версию утилиты pwd...

![Информация о команде pwd](images/15.png)

{#fig:015 width=70% }

- Команда mkdir: 
-m,–mode=MODE - устанавливает права доступа для создаваемой директории. Синтаксис MODE такой же как у команды chmod;
-p,–parents - создаёт все директории, которые указаны внутри пути (если директория существует, сообщение об этом не выводится);
-v, –verbose - выводит сообщение о каждой создаваемой директории; 
-z - устанавливает контекст SELinux для создаваемой директории по умолчанию;
–context[=CTX] - устанавливает контекст SELinux для создаваемой директории в значение CTX
–help - показывает справку по команде mkdir; 7. –version - показывает версию утилиты mkdir.

![Информация о команде mkdir](images/16.png)

{#fig:016 width=70% }

- Команда rmdir:
–ignore-fail-on-non-empty - игнорировать директории, которые содержат в себе файлы;
-p, –parents - в этой опции каждый аргумент каталога обрабатывается как путь, из которого будут удалены все компоненты, если они уже пусты, начиная с последнего компонента;
-v, –verbose - отображение подробной информациидля каждого обрабатываемого каталога;
–help - показать справку по команде rmdir;
–version - показать версию утилиты rmdir.

![Информация о команде rmdir](images/17.png)

{#fig:017 width=70% }

- Команда rm: 
-f, –force - игнорировать несуществующие файлы и аргументы. Никогда не выдавать запросы на подтверждение удаления;
-i - выводить запрос на подтверждение удаления каждого файла;
-I - выдать один запрос на подтверждение удаления всех файлов, если удаляется больше трех файлов или используется рекурсивное удаление. Опция применяется, как более «щадящая» версия опции –i;
–interactive[=WHEN] - вместо WHEN можно использовать:never — никогда не выдавать запросы на подтверждение удаления, once — выводить запрос один раз (аналог опции -I). always —выводить запрос всегда (аналог опции -i).Если значение КОГДА не задано, то используется always;
–one-file-system - во время рекурсивного удаления пропускать директории, которые находятся на других файловых системах; 
–no-preserve-root - если в качестве директории для удаления задан корневой раздел /, то считать, что это обычная директория и начать выполнять удаление;
–preserve-root[=all] - если в качестве директории для удаления задан корневой раздел /, то запретить выполнять команду rm над корневым разделом. Данное поведение используется по умолчанию; 
-r, -R, –recursive - удаление директорий и их содержимого. Рекурсивное удаление;
-d, –dir - удалять пустые директории; 

![Информация о команде rm](images/18.png)

{#fig:018 width=70% }

8. Получаем информацию о последовательности истории команд с помощью команды history и выполняем модификацию и исполнение нескольких команд из буфера команд с помощью команды ![номер выполнения команды из истории команд] (например, !99, !103, !95, !114 ): (рис. [-@fig:021]), (рис. [-@fig:022])
 
![История команд](images/21.png)

{#fig:021 width=70% }
 
![Выполнение модицикации и исполнение команд из буфера команд](images/22.png)

{#fig:022 width=70%}

# Вывод

В процессе выполнения лабораторной работы №4 мы приобрели практические навыки взаимодействия пользователя с системой посредством командной строки.

## Ответы на контрольные вопросы

1. Командная строка - это отдельное ПО, которое входит в состав Операционной Системы и обеспечивает взаимосвязь между пользователем и ОС. С её помощью можно производить команды MS-DOS и других компьютерных команд. Основное преимущество командной строки состоит в том, что она позволяет вводить все команды без участия графического интерфейса, который намного быстрее и имеет массу дополнительных возможностей, которые не могут быть осуществлены в графическом интерфейсе.
2. Команда pwd (аббревиатура от print working directory) возвращает полный путь текущего каталога командной оболочки, естественно, именно той командной оболочки, при помощи которой была выполнена команда pwd .
После ввода команды pwd командная строка выдаёт нам путь, например, /home/linuxize (путь директории, в которой мы работаем)
3. Просмотреть содержимое любой директории можно следующими способами:
ls имя_директории
Либо введя команду:
ls /путь _к _директории
Отобразить содержимое текущей директории с добавлением к именам символов, характеризующих тип, можно с помощью команды:
ls -F
4. Для просмотра списка всех файлов, включая скрытые файлы и каталоги, вы можете добавить флаг -a: ls -a
5. Команда rm используется для удаления файлов и/или каталогов.
Для удаления файлов используется команда rm. Например, для удаления файла с именем file1 используется команда:
rm file1.
Команда rm также позволяет удалять не только файлы, но и каталоги.
Для удаления директории с именем dir1 со всеми подкаталогами и файлами используется опция -r (от слова recursive):
rm -r dir1    
Можно удалить одновременно две директории со всем их содержимым:
rm -r  имя_директории_1   имя_директории_2
6. Чтобы посмотреть всю историю для этого терминала просто запустите команду history без параметров:
history
Так вы можете посмотреть только последние 10 команд:
history 10
7. Можно модифицировать команду из выведенного на экран списка при помощи
следующей конструкции:
!<номер_команды>:s/<что_меняем>/<на_что_меняем>
Пример:
!3:s/a/F
ls -F
8. Если требуется выполнить последовательно
несколько команд, записанный в одной строке, то для этого используется символ
точка с запятой
Пример:
cd; ls
9. Экранирование символов — замена в тексте управляющих символов на соответствующие текстовые подстановки.
Если в заданном контексте встречаются специальные символы (типа
«.», «/», «*» и т.д.), надо перед ними поставить символ экранирования \ (обратный
слэш).
10. ls -l - выводить подробный список, в котором будет отображаться владелец, группа, дата создания, размер и другие параметры
11. Относительный путь к файлу от документа — это путь к файлу относительно текущего документа. Такой адрес зависит от расположения файла, в котором он записан.
В случае абсолютной адресации путь к каталогу указывается, начиная с корневого каталога, и далее вниз по дереву папок до требуемого. Так все следующие записи являются абсолютными адресами: /home/pl/Desktop, /boot, /etc/vim. Первый знак слэша (/) обозначает корневой каталог.
При относительной адресации путь к каталогу указывается, начиная с текущего каталога (другими словами, относительно текущего каталога). Когда используется относительная адресация, слэш никогда не бывает первым знаком. В случае относительного адреса начало может быть одним из следующих:
Точка в начале или отсутствие какого-либо спецзнака обозначают текущий каталог.
Двумя точками обозначается каталог на уровень выше текущего, т. е. родительский.
Примеры относительных адресов: ./Documents/images, Documents/images, ../test. Первые два адреса указывают на одно и то же: каталог (images), вложенный в каталог (Documents), который вложен в текущий. Точку-слэш имеет смысл ставить только перед исполняемыми файлами. Иначе Bash будет искать программу в системных каталогах, а не текущем.
Адрес ../test говорит, что надо подняться на один уровень выше текущего в иерархии папок. Уже оттуда перейти в имеющийся там каталог test.
12. Команда man используется для просмотра (оперативная помощь)
в диалоговом режиме руководства (manual) по основным командам операционной
системы типа Linux.
Формат команды:
man <команда>
Пример (вывод информации о команде man):
man man
13. Tab. Без этого сочетания терминалом пользоваться невозможно, и поэтому его знают все. Одно нажатие клавиши Tab автоматически дополняет текущую команду или путь к файлу если возможен только один вариант.
